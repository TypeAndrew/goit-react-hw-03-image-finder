(this["webpackJsonpreact-homework-template"]=this["webpackJsonpreact-homework-template"]||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),o=a(14),i=a(4),l=a(5),u=a(9),h=a(8),p=a(11),d=a.n(p),m=a(3),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.onInputChange=function(t){e.setState({search:t.target.value})},e.onSubmit=function(t){t.preventDefault();var a=e.state.search;(0,e.props.onSearchLoad)(a)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"button-label",children:"Search"})}),Object(m.jsx)("input",{onChange:this.onInputChange,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,name:"search",value:e,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.onClose;window.addEventListener("keydown",e)}},{key:"componentWillUnmount",value:function(){var e=this.props.onClose;window.removeEventListener("keydown",e)}},{key:"render",value:function(){var e=this.props.largeImageURL;return Object(m.jsx)("div",{className:"Overlay",children:Object(m.jsx)("div",{className:"Modal",children:Object(m.jsx)("img",{src:e,alt:""})})})}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1},e.handleIsModalOpen=function(){e.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.element,t=this.state.isModalOpen;return Object(m.jsxs)("li",{className:"ImageGalleryItem",onClick:this.handleIsModalOpen,children:[Object(m.jsx)("img",{className:"ImageGalleryItem-image",src:e.webformatURL,alt:e.tags}),t&&Object(m.jsx)(b,{largeImageURL:e.largeImageURL,onClose:this.handleIsModalOpen})]})}}]),a}(n.Component),v=a(16),f=a.n(v);function O(e){var t=e.elements,a=e.status,n=e.handleToggle;return Object(m.jsx)("ul",{className:"ImageGallery",onClick:n,children:t.map((function(e){return Object(m.jsx)(g,{element:e,status:a},e.id)}))})}g.propTypes={elements:f.a.object,status:f.a.string,handleToggle:f.a.func};var y=a(27);function x(){return Object(m.jsx)(y.a,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}function S(e){var t=e.onButtonLoad;return Object(m.jsx)("button",{className:"Button",onClick:t,children:"Button"})}var w="idle",k="loading",L="success",C="error",I=a(50).a.create({baseURL:"https://pixabay.com/api"}),M=function(){var e=Object(o.a)(d.a.mark((function e(){var t,a,n,r,s,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},a=t.page,n=t.search,e.next=4,I.get("/",{params:{q:n,page:a,key:"12869198-d37a15061ea84e81a1308e6dd",image_type:"photo",orientation:"horizontal",per_page:12}});case 4:return r=e.sent,s=r.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={images:[],status:w,search:"",page:1,isModalOpen:!1},e.fetchData=function(){var t=Object(o.a)(d.a.mark((function t(a){var n,r,s,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.page,r=void 0===n?1:n,s=a.search,c=void 0===s?"":s,e.setState({status:k}),t.prev=2,t.next=5,M({page:r,search:c});case 5:o=t.sent,e.setState({images:o.hits,status:L}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.setState({status:C});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onSearchLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({page:1,search:t})},e.onButtonLoad=function(){var t=e.state.page+1,a=e.state.search;e.setState({page:t,search:a}),e.fetchData({page:t,search:a})},e.handleToggle=function(){e.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchData({page:1,search:""})}},{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&(this.setState({page:1}),this.fetchData({page:this.state.page,search:this.state.search}))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.page,n=e.status;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j,{onSearchLoad:this.onSearchLoad}),n===k?Object(m.jsx)(x,{}):Object(m.jsx)(O,{elements:t,status:n,handleToggle:this.handleToggle}),Object(m.jsx)(S,{onButtonLoad:this.onButtonLoad,page:a})]})}}]),a}(n.Component);a(47);c.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}))}},[[48,1,2]]]);
//# sourceMappingURL=main.4dca3ca4.chunk.js.map